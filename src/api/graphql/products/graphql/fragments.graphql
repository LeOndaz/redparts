fragment productPageInfoFragment on ProductCountableConnection {
    pageInfo {
        ...pageInfoFragment
    }
    totalCount
}

fragment productDetailFragment on Product {
    id
    name
    slug
    descriptionJson
    seoTitle
    seoDescription
    pricing {
        onSale
        priceRange {
            start {
                gross {
                    amount
                    currency
                }
                net {
                    amount
                    currency
                }
            }
        }
        priceRangeUndiscounted {
            start {
                gross {
                    amount
                    currency
                }
                net {
                    amount
                    currency
                }
            }
        }
    }
    images {
        id
        alt
        url
    }
    isAvailable
    isAvailableForPurchase
    weight {
        unit
        value
    }
    attributes {
        ...attributeValuesDetailFragment
    }
    variants {
        ...productVariantDetails
    }
    defaultVariant {
        sku
        attributes {
            ...attributeValuesDetailFragment
        }
    }
    productType {
        slug
        name
    }
    category {
        ...categoryDetailFragment
    }
}

fragment productVariantDetails on ProductVariant {
    id
    sku
    name
    pricing {
        price {
            net {
                amount
            }
        }
    }
    attributes {
        ...attributeValuesDetailFragment
    }
}
